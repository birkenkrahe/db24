#+TITLE: Notebook - Database Theory and Applications
#+AUTHOR: Marcus Birkenkrahe
#+SUBTITLE: CSC 330, Lyon College, Spring 2024
#+STARTUP:overview hideblocks indent inlineimages
#+OPTIONS: toc:nil num:nil ^:nil
* Week 1 - Overview & introduction to RDBMS
#+attr_html: :width 400px
[[../img/cover.png]]

- [X] See [[https://lyon.instructure.com/courses/2254/assignments/syllabus][Syllabus]] (see also [[https://lyon.instructure.com/courses/2254/pages/course-links][course links]]) in Canvas.
- [X] Whiteboard/screenshots on GDrive
- [X] All other materials [[https://github.com/birkenkrahe/db24][in GitHub]] (Git? Hello world exercise?)
- [X] Your entry into a "Data Engineering" [[https://app.datacamp.com/learn/career-tracks][career track]]!
- [X] Today: Emacs tutorial (because I'm tired of lecturing)

* Week 2 - Introduction to SQL - Querying
#+ATTR_HTML: :WIDTH 400px:
[[../img/sqlite_install.png]]

- [ ] Assignment: Complete Emacs tutorial (upload to Canvas by Friday)
- [ ] Install Emacs + SQLite3! I'll help you after class (see [[https://chat.google.com/room/AAAAEZSJ81g/gCgKDYojP8k/gCgKDYojP8k?cls=10][chat]])

- [ ] DataCamp review: Introduction to SQL - Q&A and practice
- [ ] Starting with SQLite in Emacs and checking out replit.com

- [ ] Lecture: history of databases ([[https://youtu.be/KG-mqHoXOXY?si=RgQAO5caWyRfxWwh][video]] & Beaulieu, 2021)
- [ ] Let's talk about your term projects (Thu)

** TODO Announcement: Journal club!

Data science enthusiasts: there will be a "journal club" on Wednesday
12-12:45 pm in Derby room 209. We'll put the papers in a GDrive.

For the first journal club on Januar 31, I'd like to submit my last
non-technical paper, "The role of AI coding assistants: revisiting the
need for literate programming in computer and data science education."
([[https://drive.google.com/file/d/1OonJ1pesK2iRP3JDf4MoBRgg4NKk91yU/view?usp=sharing][Link]]) This paper will be presented at INTED'24, the 18th annual
International Technology, Education and Development Conference in
Valencia (Spain), March 4-6.

You can get some background on this topic from the wall poster in
front of my office, about the paper that I wrote before this one.
#+ATTR_HTML: :WIDTH 400px:
[[../img/MDPI_2023_BIRKENKRAHE_poster.pptx.png]]

*Caveat:* in a journal club, you discuss other people's papers and not
your own - I will try to simulate that by discussing my paper as if
someone else had written it, and also using AI to deliver a critique.

** TODO Announcement: UAMS College of Public Health student session

Monday, 29 January 12-12:45 PM via Zoom: http://tinyurl.com/UAMSCPUH
Passcode: 941969
#+ATTR_HTML: :WIDTH 400px:
[[../img/UAMS_student_session.png]]

** TODO DataCamp review: Relational databases

*** Corrections (nit-picking)

- SQL is NOT an acronym for anything, not even "Structured Query
  Language" (that's just a mnemonic): when Codd proposed his
  relational model, he also proposed a language called DSL/Alpha to
  manipulate the data. A group at IBM built a simplified version of
  that language and called it SQUARE, which eventually led to a
  language called SEQUEL, which was finally shortened to SQL
  (Beaulieu, 2021:23).
  
- The number of fields (columns, features) is not set when the
  database is created but when the table containing the columns is
  created.
  
*** Review questions and preview:

1. What's special about the fields ~card_num~ and ~id~?
   #+ATTR_HTML: :WIDTH 400px: 
   [[../img/librarydb.png]]

2. What kind of questions can you answer using these data? Distinguish
   between questions that do (do not) require different tables.
   #+begin_notes
   Doesn't require table relationships:
   - What's James' library card number? [patrons]
   - Who wrote "Where the Wild Things Are"? [books]
   - When did the patron with ~card_num~ 54378 check out book ~638~? [checkouts]

   Does require table relationships:
   - Is Sendak's "Where the Wild Things Are" currently checked out?
     [books, checkouts]
   - Is Jasmin's account overdue? [patrons, checkouts]
   - Did James ever check out Tara Westover's "Educated"?
     [patrons,books,checkouts]
   #+end_notes

3. Tables are not spreadsheets (though they look like them). What's
   the difference?
   #+begin_notes
   | Feature        | Spreadsheets                                                                                  | Relational Databases                                                                                 |
   |----------------+-----------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------|
   | Data Storage   | Cell-based, typically in rows and columns. Ideal for smaller, simple datasets.                | Structured in tables with rows and columns. Designed for large and complex data sets.                |
   | Scalability    | Limited scalability. Performance issues with very large datasets.                             | Highly scalable. Can handle large amounts of data efficiently.                                       |
   | Complexity     | User-friendly for basic operations. Limited functionality for complex data manipulation.      | Requires understanding of database languages (like SQL). More capable in handling complex queries.   |
   | Data Integrity | Prone to human error. No built-in mechanisms for enforcing data integrity.                    | Strong data integrity with constraints, transactions, and rollback capabilities.                     |
   | Data Analysis  | Basic analysis and visualization tools. PivotTables for data summarization.                   | Advanced querying, indexing, and data manipulation capabilities. Better suited for complex analyses. |
   | Collaboration  | Simpler for single-user. Collaboration possible but prone to conflicts and versioning issues. | Designed for multi-user environments. Concurrency control and user access management.                |
   | Examples       | Microsoft Excel, Google Sheets                                                                | MySQL, PostgreSQL, Oracle, SQL Server                                                                |
   #+end_notes

4. Describe the relationship of databases, tables and data.
   #+begin_notes
   - Data are stored in tables. They come in two types: numeric or
     character. Numeric data can be floating point or
     integer. (PostgreSQL: ~INT~, ~VARCHAR~, ~NUMERIC~. SQLite: ~INT~, ~REAL~,
     ~TEXT~)
   - Tables consist of rows (observations) and columns (fields,
     features, or properties). Every table row must have a unique
     identifier (~PRIMARY KEY~).
   - Databases contain tables. They also contain meta data - e.g. a
     dictionary with access permissions, and transactional
     information.
   - Database Management Systems (DBMS) is software to manage
     databases.
   - Database systems = DBMS + databases + IT infrastructure
   #+end_notes

5. What does =VARCHAR= mean?
   #+begin_notes
   A variable character data type whose exact size in database memory
   is decided when the data are put into the database.
   #+end_notes

6. Databases can only be accessed securely by one person at a time.
   #+begin_notes
   FALSE. Modern databases allow multi-user access at all times.
   #+end_notes

7. How popular is SQL exactly? How would you find out?
   #+begin_notes
   Compare [[https://www.tiobe.com/tiobe-index/][TIOBE]] (01/24: #9 for search) and [[https://spectrum.ieee.org/the-top-programming-languages-2023][IEEE]] 08/23: #1 for jobs).
   #+end_notes   

8. What are sources of data redundancy in relational databases?
   #+begin_notes
   - The same column or feature occurs in different
     tables. E.g. ~book_id~ in the ~books~ and in the ~check_out~ table.
   - A field value contains different fields, e.g. ~address~ with the
     value ~1014 E Main St Batesville AR~, or ~name~ as ~Marcus
     Birkenkrahe~~.
   #+end_notes 

9. What's a database "schema"?
   #+begin_notes
   The blueprint of a database - a record of its structure. In SQL,
   this takes the form of a list of all data table creation commands,
   e.g. ~CREATE TABLE books (id INT PRIMARY KEY, title TEXT, author
   TEXT, genre TEXT);~
   #+end_notes

10. Are tables limited in size? How can you find these things out?
    #+begin_notes
    Rows/records are only limited by available memory (to old the
    table information). Fields/Columns are limited by the RDBM, e.g.
    SQL Server is limited to 1024 columns per table at most.

    RDBM are exquisitely documented. Example: [[https://dev.mysql.com/doc/refman/8.0/en/][MySQL Reference Manual]].
    #+end_notes

** WATCH [[file:1_history.org][History of databases]] (and their types)

- Watch on [[https://youtu.be/KG-mqHoXOXY][YouTube]] (5:39 min) - Computer History Museum, 2019

- Which of these guys has got nothing to do with databases?
  #+attr_html: :width 400px
  #+caption: Which of these founders has nothing to do with databases?
  [[../img/founders.png]]

** TODO Fundamental concepts of database management (PDBM, 2018)

- Slides [[https://docs.google.com/presentation/d/1URes41gtKK6MFUz8BHUZ3fQ1iUggpajR/edit?usp=sharing&ouid=102963037093118135110&rtpof=true&sd=true][chapter 1]]
- Videos ([[https://www.youtube.com/playlist?list=PLdQddgMBv5zHcEN9RrhADq3CBColhY2hl][playlist]])
- Source: Principles of DB Management ([[https://www.pdbmbook.com/][pdbmbook.com]]) - CUP 2018

** TODO Types of database management systems (Beaulieu, 2012)

See [[file:1_fundamental.org]]:

- Hierarchical
- Network
- Relational
- Concurrency Control  

** TODO Practice: First SQLite database

Do this 1) on the console 2) in an Emacs Org-mode buffer:
1. SQLite shell.
2. Create a small table.
3. Explore display options.
4. Look at the database schema.
5. Write table to SQL file.
6. Look at the SQL file.
7. Delete tables.
8. Write and import CSV file.

* Week 3 -
* Week 4 -
* Week 5 -
* Week 6 -
* Week 7 -
* Week 8 -
* Week 9 -
* Week 10 -
* Week 11 -
* Week 12 -
* Week 13 -
* Week 14 -
* Week 15 -
* Week 16 -

* References

Lemahieu, Vanden Broucke, Baesens: Principles of Database Management:
The Practical Guide to Storing, Managing and Analyzing Big and
Small. Cambridge U Press 2018.

Beaulieu: Learning SQL (2e). O'Reilly 2021.
